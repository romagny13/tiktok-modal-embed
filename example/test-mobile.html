<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //   function isMobileWithZoom() {
      //     const isMobile = window.innerWidth <= 768;
      //     const zoomLevel = window.devicePixelRatio;

      //     if (isMobile && zoomLevel < 1) {
      //       // Si l'écran est mobile et que le zoom est réduit (niveau de zoom < 1)
      //       return true;
      //     }
      //     return false;
      //   }

      //   console.log(isMobileWithZoom()); // Retourne true si l'appareil est mobile et zoomé

      function detectMobileAndZoom() {
        // Détection mobile via user agent
        const isMobile =
          /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(
            navigator.userAgent
          );

        // Obtenir les dimensions du viewport
        const viewportWidth = Math.max(
          document.documentElement.clientWidth || 0,
          window.innerWidth || 0
        );
        const viewportHeight = Math.max(
          document.documentElement.clientHeight || 0,
          window.innerHeight || 0
        );

        // Obtenir le niveau de zoom
        const zoom = Math.round((window.outerWidth / viewportWidth) * 100);

        return {
          isMobile,
          viewportWidth,
          viewportHeight,
          zoom
        };
      }

      // Utilisation

      setInterval(() => {
        const deviceInfo = detectMobileAndZoom();
        console.log(`Est sur mobile: ${deviceInfo.isMobile}`);
        console.log(`Zoom level: ${deviceInfo.zoom}%`);
      }, 10000);
    </script>
  </body>
</html>
